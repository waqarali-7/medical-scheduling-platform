import {
  Clinic,
  Doctor,
  Patient,
  ClinicAdmin,
  Appointment,
  TimeSlot,
  DashboardStats,
  Notification,
  User,
} from "@/types";

// ─── Clinics ──────────────────────────────────────────────────────────────────
export const CLINICS: Clinic[] = [
  {
    id: "clinic-001",
    name: "Charité Universitätsmedizin Berlin",
    address: {
      street: "Charitéplatz 1",
      city: "Berlin",
      postalCode: "10117",
      state: "Berlin",
      country: "Germany",
    },
    phone: "+49 30 450 50",
    email: "info@charite.de",
    website: "https://www.charite.de",
    openingHours: {
      monday: { isOpen: true, from: "07:00", to: "19:00" },
      tuesday: { isOpen: true, from: "07:00", to: "19:00" },
      wednesday: { isOpen: true, from: "07:00", to: "19:00" },
      thursday: { isOpen: true, from: "07:00", to: "19:00" },
      friday: { isOpen: true, from: "07:00", to: "17:00" },
      saturday: { isOpen: true, from: "08:00", to: "13:00" },
      sunday: { isOpen: false },
    },
    specializations: ["Cardiology", "Neurology", "Orthopedics", "Internal Medicine"],
    rating: 4.8,
    reviewCount: 2341,
    imageUrl: "/clinic-charite.jpg",
  },
  {
    id: "clinic-002",
    name: "Praxis am Kurfürstendamm",
    address: {
      street: "Kurfürstendamm 42",
      city: "Berlin",
      postalCode: "10707",
      state: "Berlin",
      country: "Germany",
    },
    phone: "+49 30 882 4433",
    email: "info@praxis-kurfuerstendamm.de",
    openingHours: {
      monday: { isOpen: true, from: "08:00", to: "18:00" },
      tuesday: { isOpen: true, from: "08:00", to: "18:00" },
      wednesday: { isOpen: true, from: "08:00", to: "13:00" },
      thursday: { isOpen: true, from: "08:00", to: "18:00" },
      friday: { isOpen: true, from: "08:00", to: "16:00" },
      saturday: { isOpen: false },
      sunday: { isOpen: false },
    },
    specializations: ["General Practice", "Dermatology", "Pediatrics"],
    rating: 4.6,
    reviewCount: 867,
    imageUrl: "/clinic-kurfuerstendamm.jpg",
  },
  {
    id: "clinic-003",
    name: "Herz- und Gefäßzentrum München",
    address: {
      street: "Englschalkinger Str. 77",
      city: "München",
      postalCode: "81925",
      state: "Bayern",
      country: "Germany",
    },
    phone: "+49 89 9270 0",
    email: "info@herzgefaesszentrum.de",
    openingHours: {
      monday: { isOpen: true, from: "07:30", to: "19:30" },
      tuesday: { isOpen: true, from: "07:30", to: "19:30" },
      wednesday: { isOpen: true, from: "07:30", to: "19:30" },
      thursday: { isOpen: true, from: "07:30", to: "19:30" },
      friday: { isOpen: true, from: "07:30", to: "17:00" },
      saturday: { isOpen: true, from: "09:00", to: "14:00" },
      sunday: { isOpen: false },
    },
    specializations: ["Cardiology", "Vascular Surgery", "Cardiac Rehabilitation"],
    rating: 4.9,
    reviewCount: 1543,
  },
];

// ─── Doctors ──────────────────────────────────────────────────────────────────
export const DOCTORS: Doctor[] = [
  {
    id: "doctor-001",
    firstName: "Dr. Maria",
    lastName: "Schneider",
    email: "m.schneider@charite.de",
    phone: "+49 30 450 50 1001",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/women/44.jpg",
    specialization: "Cardiology",
    qualifications: [
      "M.D. Heidelberg University",
      "Board Certified Cardiologist",
      "European Heart Failure Certification",
    ],
    clinicId: "clinic-001",
    rating: 4.9,
    reviewCount: 412,
    bio: "Dr. Schneider is a leading cardiologist with over 15 years of experience in heart failure management and preventive cardiology. She specializes in complex arrhythmia cases and interventional procedures.",
    languages: ["German", "English", "French"],
    consultationFee: 180,
    isAvailable: true,
    nextAvailableSlot: "2026-02-18T09:00:00",
    createdAt: "2020-03-15T10:00:00Z",
  },
  {
    id: "doctor-002",
    firstName: "Dr. Klaus",
    lastName: "Weber",
    email: "k.weber@charite.de",
    phone: "+49 30 450 50 1002",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/men/32.jpg",
    specialization: "Neurology",
    qualifications: ["M.D. Freie Universität Berlin", "Ph.D. Neuroscience", "Board Certified Neurologist"],
    clinicId: "clinic-001",
    rating: 4.7,
    reviewCount: 298,
    bio: "Dr. Weber focuses on movement disorders, including Parkinson's disease and essential tremor. He has pioneered several research studies on deep brain stimulation at Charité.",
    languages: ["German", "English"],
    consultationFee: 200,
    isAvailable: true,
    nextAvailableSlot: "2026-02-19T14:00:00",
    createdAt: "2019-06-01T10:00:00Z",
  },
  {
    id: "doctor-003",
    firstName: "Dr. Aisha",
    lastName: "Müller",
    email: "a.muller@praxis-kd.de",
    phone: "+49 30 882 4433 01",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/women/68.jpg",
    specialization: "General Practice",
    qualifications: ["M.D. LMU Munich", "Family Medicine Certification", "Diabetes Care Specialist"],
    clinicId: "clinic-002",
    rating: 4.8,
    reviewCount: 534,
    bio: "Dr. Müller is a compassionate general practitioner dedicated to holistic patient care. She is fluent in four languages, making her a popular choice among Berlin's international community.",
    languages: ["German", "English", "Arabic", "Turkish"],
    consultationFee: 95,
    isAvailable: true,
    nextAvailableSlot: "2026-02-17T16:00:00",
    createdAt: "2021-01-10T10:00:00Z",
  },
  {
    id: "doctor-004",
    firstName: "Dr. Thomas",
    lastName: "Bauer",
    email: "t.bauer@praxis-kd.de",
    phone: "+49 30 882 4433 02",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/men/55.jpg",
    specialization: "Dermatology",
    qualifications: ["M.D. University of Bonn", "Board Certified Dermatologist", "Dermoscopy Expert"],
    clinicId: "clinic-002",
    rating: 4.6,
    reviewCount: 187,
    bio: "Dr. Bauer specializes in both medical and cosmetic dermatology, with expertise in melanoma detection and treatment of chronic skin conditions like psoriasis and eczema.",
    languages: ["German", "English"],
    consultationFee: 140,
    isAvailable: false,
    nextAvailableSlot: "2026-02-25T10:00:00",
    createdAt: "2022-04-01T10:00:00Z",
  },
  {
    id: "doctor-005",
    firstName: "Dr. Sophie",
    lastName: "Fischer",
    email: "s.fischer@herzgefaesszentrum.de",
    phone: "+49 89 9270 501",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/women/21.jpg",
    specialization: "Cardiology",
    qualifications: ["M.D. TU Munich", "Interventional Cardiology Fellowship", "FESC"],
    clinicId: "clinic-003",
    rating: 5.0,
    reviewCount: 623,
    bio: "Dr. Fischer is internationally recognized for her work in interventional cardiology. She has performed over 3,000 percutaneous coronary interventions and regularly lectures at European cardiology conferences.",
    languages: ["German", "English", "Italian"],
    consultationFee: 220,
    isAvailable: true,
    nextAvailableSlot: "2026-02-18T11:30:00",
    createdAt: "2018-09-01T10:00:00Z",
  },
  {
    id: "doctor-006",
    firstName: "Dr. Marcus",
    lastName: "Hoffmann",
    email: "m.hoffmann@charite.de",
    phone: "+49 30 450 50 1003",
    role: "DOCTOR",
    avatarUrl: "https://randomuser.me/api/portraits/men/41.jpg",
    specialization: "Orthopedics",
    qualifications: ["M.D. University of Hamburg", "Orthopedic Surgery Certification", "Sports Medicine Fellowship"],
    clinicId: "clinic-001",
    rating: 4.5,
    reviewCount: 234,
    bio: "Dr. Hoffmann specializes in sports medicine and minimally invasive orthopedic surgery. He has served as team physician for several Bundesliga clubs and Olympic athletes.",
    languages: ["German", "English"],
    consultationFee: 160,
    isAvailable: true,
    nextAvailableSlot: "2026-02-20T09:30:00",
    createdAt: "2021-08-15T10:00:00Z",
  },
];

// ─── Patients ─────────────────────────────────────────────────────────────────
export const PATIENTS: Patient[] = [
  {
    id: "patient-001",
    firstName: "Johannes",
    lastName: "Richter",
    email: "j.richter@gmail.com",
    phone: "+49 151 2345 6789",
    role: "PATIENT",
    avatarUrl: "https://randomuser.me/api/portraits/men/22.jpg",
    dateOfBirth: "1985-06-15",
    insuranceNumber: "DE123456789",
    address: {
      street: "Musterstraße 12",
      city: "Berlin",
      postalCode: "10115",
      state: "Berlin",
      country: "Germany",
    },
    medicalHistory: ["Hypertension", "Type 2 Diabetes"],
    createdAt: "2024-01-15T10:00:00Z",
  },
  {
    id: "patient-002",
    firstName: "Emma",
    lastName: "Schmidt",
    email: "e.schmidt@web.de",
    phone: "+49 176 9876 5432",
    role: "PATIENT",
    avatarUrl: "https://randomuser.me/api/portraits/women/33.jpg",
    dateOfBirth: "1992-11-28",
    insuranceNumber: "DE987654321",
    address: {
      street: "Berliner Allee 45",
      city: "Hamburg",
      postalCode: "20095",
      state: "Hamburg",
      country: "Germany",
    },
    medicalHistory: ["Asthma"],
    createdAt: "2024-02-20T10:00:00Z",
  },
  {
    id: "patient-003",
    firstName: "Lukas",
    lastName: "Wagner",
    email: "l.wagner@outlook.de",
    phone: "+49 160 1122 3344",
    role: "PATIENT",
    avatarUrl: "https://randomuser.me/api/portraits/men/45.jpg",
    dateOfBirth: "1978-03-05",
    insuranceNumber: "DE456789012",
    address: {
      street: "Schillerstraße 8",
      city: "München",
      postalCode: "80336",
      state: "Bayern",
      country: "Germany",
    },
    medicalHistory: ["Chronic Back Pain", "Migraines"],
    createdAt: "2024-03-10T10:00:00Z",
  },
  {
    id: "patient-004",
    firstName: "Anna",
    lastName: "Becker",
    email: "a.becker@gmx.de",
    phone: "+49 170 5566 7788",
    role: "PATIENT",
    avatarUrl: "https://randomuser.me/api/portraits/women/52.jpg",
    dateOfBirth: "1995-08-22",
    address: {
      street: "Goethestraße 3",
      city: "Frankfurt",
      postalCode: "60313",
      state: "Hessen",
      country: "Germany",
    },
    createdAt: "2024-06-05T10:00:00Z",
  },
  {
    id: "patient-005",
    firstName: "Felix",
    lastName: "Zimmermann",
    email: "f.zimmermann@t-online.de",
    phone: "+49 152 9988 7766",
    role: "PATIENT",
    avatarUrl: "https://randomuser.me/api/portraits/men/67.jpg",
    dateOfBirth: "1967-01-14",
    insuranceNumber: "DE789012345",
    address: {
      street: "Hauptstraße 71",
      city: "Stuttgart",
      postalCode: "70173",
      state: "Baden-Württemberg",
      country: "Germany",
    },
    medicalHistory: ["Atrial Fibrillation", "Hypertension", "High Cholesterol"],
    createdAt: "2023-11-01T10:00:00Z",
  },
];

// ─── Admins ───────────────────────────────────────────────────────────────────
export const ADMINS: ClinicAdmin[] = [
  {
    id: "admin-001",
    firstName: "Petra",
    lastName: "Koch",
    email: "p.koch@charite.de",
    phone: "+49 30 450 50 999",
    role: "CLINIC_ADMIN",
    clinicId: "clinic-001",
    avatarUrl: "https://randomuser.me/api/portraits/women/15.jpg",
    createdAt: "2020-01-01T10:00:00Z",
  },
];

// ─── Appointments ─────────────────────────────────────────────────────────────
export const APPOINTMENTS: Appointment[] = [
  {
    id: "apt-001",
    patientId: "patient-001",
    doctorId: "doctor-001",
    clinicId: "clinic-001",
    status: "CONFIRMED",
    type: "CONSULTATION",
    scheduledAt: "2026-02-18T09:00:00",
    durationMinutes: 30,
    reason: "Annual cardiac check-up and medication review",
    notes: "Patient on Metoprolol 50mg, bring recent ECG results",
    createdAt: "2026-02-10T14:23:00Z",
    updatedAt: "2026-02-10T15:00:00Z",
  },
  {
    id: "apt-002",
    patientId: "patient-002",
    doctorId: "doctor-003",
    clinicId: "clinic-002",
    status: "PENDING",
    type: "FOLLOW_UP",
    scheduledAt: "2026-02-19T14:30:00",
    durationMinutes: 20,
    reason: "Follow-up on asthma treatment plan",
    createdAt: "2026-02-12T09:10:00Z",
    updatedAt: "2026-02-12T09:10:00Z",
  },
  {
    id: "apt-003",
    patientId: "patient-003",
    doctorId: "doctor-002",
    clinicId: "clinic-001",
    status: "COMPLETED",
    type: "CONSULTATION",
    scheduledAt: "2026-02-14T11:00:00",
    durationMinutes: 45,
    reason: "Persistent headaches and dizziness assessment",
    notes: "MRI ordered. Patient advised to avoid caffeine and maintain sleep schedule.",
    createdAt: "2026-02-05T16:45:00Z",
    updatedAt: "2026-02-14T12:00:00Z",
  },
  {
    id: "apt-004",
    patientId: "patient-004",
    doctorId: "doctor-004",
    clinicId: "clinic-002",
    status: "CANCELLED",
    type: "CHECKUP",
    scheduledAt: "2026-02-16T10:00:00",
    durationMinutes: 30,
    reason: "Routine skin check",
    cancelReason: "Patient had personal emergency and rescheduled.",
    createdAt: "2026-02-08T11:00:00Z",
    updatedAt: "2026-02-15T09:30:00Z",
  },
  {
    id: "apt-005",
    patientId: "patient-005",
    doctorId: "doctor-005",
    clinicId: "clinic-003",
    status: "CONFIRMED",
    type: "SPECIALIST",
    scheduledAt: "2026-02-20T11:30:00",
    durationMinutes: 60,
    reason: "Holter monitor review and AF management consultation",
    createdAt: "2026-02-11T08:00:00Z",
    updatedAt: "2026-02-11T08:30:00Z",
  },
  {
    id: "apt-006",
    patientId: "patient-001",
    doctorId: "doctor-006",
    clinicId: "clinic-001",
    status: "PENDING",
    type: "CONSULTATION",
    scheduledAt: "2026-02-21T09:30:00",
    durationMinutes: 30,
    reason: "Knee pain evaluation after running injury",
    createdAt: "2026-02-13T12:00:00Z",
    updatedAt: "2026-02-13T12:00:00Z",
  },
  {
    id: "apt-007",
    patientId: "patient-002",
    doctorId: "doctor-001",
    clinicId: "clinic-001",
    status: "NO_SHOW",
    type: "FOLLOW_UP",
    scheduledAt: "2026-02-13T15:00:00",
    durationMinutes: 20,
    reason: "Blood pressure medication follow-up",
    createdAt: "2026-02-06T10:00:00Z",
    updatedAt: "2026-02-13T15:30:00Z",
  },
  {
    id: "apt-008",
    patientId: "patient-003",
    doctorId: "doctor-003",
    clinicId: "clinic-002",
    status: "CONFIRMED",
    type: "CHECKUP",
    scheduledAt: "2026-02-17T16:00:00",
    durationMinutes: 20,
    reason: "Annual health checkup and blood tests",
    createdAt: "2026-02-14T13:00:00Z",
    updatedAt: "2026-02-14T13:30:00Z",
  },
  {
    id: "apt-009",
    patientId: "patient-004",
    doctorId: "doctor-005",
    clinicId: "clinic-003",
    status: "PENDING",
    type: "CONSULTATION",
    scheduledAt: "2026-02-24T10:00:00",
    durationMinutes: 45,
    reason: "Second opinion on cardiac stress test results",
    createdAt: "2026-02-15T09:00:00Z",
    updatedAt: "2026-02-15T09:00:00Z",
  },
  {
    id: "apt-010",
    patientId: "patient-005",
    doctorId: "doctor-001",
    clinicId: "clinic-001",
    status: "COMPLETED",
    type: "SPECIALIST",
    scheduledAt: "2026-02-10T10:00:00",
    durationMinutes: 60,
    reason: "Initial cardiology consultation for persistent palpitations",
    notes: "24-hour Holter monitor prescribed. Follow-up in 2 weeks.",
    createdAt: "2026-02-03T14:00:00Z",
    updatedAt: "2026-02-10T11:15:00Z",
  },
  {
    id: "apt-011",
    patientId: "patient-001",
    doctorId: "doctor-002",
    clinicId: "clinic-001",
    status: "CONFIRMED",
    type: "FOLLOW_UP",
    scheduledAt: "2026-02-19T14:00:00",
    durationMinutes: 30,
    reason: "MRI results review and treatment planning",
    createdAt: "2026-02-14T12:00:00Z",
    updatedAt: "2026-02-14T12:30:00Z",
  },
  {
    id: "apt-012",
    patientId: "patient-002",
    doctorId: "doctor-004",
    clinicId: "clinic-002",
    status: "PENDING",
    type: "CHECKUP",
    scheduledAt: "2026-02-26T11:00:00",
    durationMinutes: 30,
    reason: "Mole mapping and skin cancer screening",
    createdAt: "2026-02-16T10:00:00Z",
    updatedAt: "2026-02-16T10:00:00Z",
  },
];

// Hydrate appointments with related data
export const getHydratedAppointments = (): Appointment[] => {
  return APPOINTMENTS.map((apt) => ({
    ...apt,
    patient: PATIENTS.find((p) => p.id === apt.patientId),
    doctor: DOCTORS.find((d) => d.id === apt.doctorId),
    clinic: CLINICS.find((c) => c.id === apt.clinicId),
  }));
};

// ─── Time Slots ───────────────────────────────────────────────────────────────
const generateSlots = (doctorId: string, date: string, times: string[]): TimeSlot[] => {
  return times.map((t, i) => {
    const [h, m] = t.split(":").map(Number);
    const endH = m + 30 >= 60 ? h + 1 : h;
    const endM = (m + 30) % 60;
    return {
      id: `slot-${doctorId}-${date}-${i}`,
      doctorId,
      date,
      startTime: t,
      endTime: `${String(endH).padStart(2, "0")}:${String(endM).padStart(2, "0")}`,
      isAvailable: Math.random() > 0.3,
      durationMinutes: 30,
    };
  });
};

export const TIME_SLOTS: TimeSlot[] = [
  ...generateSlots("doctor-001", "2026-02-18", [
    "09:00",
    "09:30",
    "10:00",
    "10:30",
    "11:00",
    "14:00",
    "14:30",
    "15:00",
  ]),
  ...generateSlots("doctor-001", "2026-02-19", ["09:00", "09:30", "10:00", "11:00", "14:00", "15:00", "16:00"]),
  ...generateSlots("doctor-002", "2026-02-19", ["14:00", "14:30", "15:00", "15:30", "16:00"]),
  ...generateSlots("doctor-003", "2026-02-17", ["16:00", "16:30", "17:00", "17:30"]),
  ...generateSlots("doctor-003", "2026-02-18", ["08:00", "08:30", "09:00", "09:30", "10:00", "10:30"]),
  ...generateSlots("doctor-005", "2026-02-18", ["11:30", "12:00", "14:00", "14:30", "15:00", "15:30"]),
  ...generateSlots("doctor-006", "2026-02-20", ["09:30", "10:00", "10:30", "11:00"]),
];

// ─── Notifications ────────────────────────────────────────────────────────────
export const NOTIFICATIONS: Notification[] = [
  {
    id: "notif-001",
    userId: "patient-001",
    type: "CONFIRMATION",
    title: "Appointment Confirmed",
    message: "Your appointment with Dr. Maria Schneider on Feb 18 at 09:00 has been confirmed.",
    isRead: false,
    createdAt: "2026-02-10T15:00:00Z",
    appointmentId: "apt-001",
  },
  {
    id: "notif-002",
    userId: "patient-001",
    type: "REMINDER",
    title: "Appointment Tomorrow",
    message: "Reminder: Your appointment with Dr. Maria Schneider is tomorrow at 09:00 AM.",
    isRead: false,
    createdAt: "2026-02-17T09:00:00Z",
    appointmentId: "apt-001",
  },
  {
    id: "notif-003",
    userId: "patient-002",
    type: "STATUS_CHANGE",
    title: "Appointment Status Updated",
    message: "Your appointment with Dr. Klaus Weber was marked as No-Show. Please contact us to reschedule.",
    isRead: true,
    createdAt: "2026-02-13T15:30:00Z",
    appointmentId: "apt-007",
  },
  {
    id: "notif-004",
    userId: "patient-004",
    type: "CANCELLATION",
    title: "Appointment Cancelled",
    message: "Your appointment with Dr. Thomas Bauer on Feb 16 has been cancelled.",
    isRead: true,
    createdAt: "2026-02-15T09:30:00Z",
    appointmentId: "apt-004",
  },
  {
    id: "notif-005",
    userId: "patient-005",
    type: "CONFIRMATION",
    title: "Appointment Confirmed",
    message: "Your specialist appointment with Dr. Sophie Fischer on Feb 20 at 11:30 is confirmed.",
    isRead: false,
    createdAt: "2026-02-11T08:30:00Z",
    appointmentId: "apt-005",
  },
];

// ─── Dashboard Stats ──────────────────────────────────────────────────────────
export const DASHBOARD_STATS: DashboardStats = {
  totalAppointments: 12,
  pendingAppointments: 4,
  confirmedAppointments: 4,
  completedAppointments: 2,
  cancelledAppointments: 1,
  noShowAppointments: 1,
  totalPatients: 5,
  totalDoctors: 6,
  todayAppointments: 2,
  weeklyGrowth: 12.5,
};

// ─── Simulated Current User (swap role to test) ───────────────────────────────
export const CURRENT_USER: User = PATIENTS[0]; // Change to ADMINS[0] or DOCTORS[0]

// ─── Helper Functions ─────────────────────────────────────────────────────────
export const getDoctorById = (id: string): Doctor | undefined => DOCTORS.find((d) => d.id === id);

export const getPatientById = (id: string): Patient | undefined => PATIENTS.find((p) => p.id === id);

export const getClinicById = (id: string): Clinic | undefined => CLINICS.find((c) => c.id === id);

export const getAppointmentById = (id: string): Appointment | undefined => {
  const apt = APPOINTMENTS.find((a) => a.id === id);
  if (!apt) return undefined;
  return {
    ...apt,
    patient: PATIENTS.find((p) => p.id === apt.patientId),
    doctor: DOCTORS.find((d) => d.id === apt.doctorId),
    clinic: CLINICS.find((c) => c.id === apt.clinicId),
  };
};

export const getAppointmentsByPatient = (patientId: string): Appointment[] =>
  getHydratedAppointments().filter((a) => a.patientId === patientId);

export const getAppointmentsByDoctor = (doctorId: string): Appointment[] =>
  getHydratedAppointments().filter((a) => a.doctorId === doctorId);

export const getSlotsByDoctor = (doctorId: string, date: string): TimeSlot[] =>
  TIME_SLOTS.filter((s) => s.doctorId === doctorId && s.date === date && s.isAvailable);

export const getNotificationsByUser = (userId: string): Notification[] =>
  NOTIFICATIONS.filter((n) => n.userId === userId);

export const getDoctorsBySpecialization = (spec: string): Doctor[] =>
  DOCTORS.filter((d) => d.specialization.toLowerCase().includes(spec.toLowerCase()));
